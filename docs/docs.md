# Build Documentation

The **Build Documentation** workflow `docs.yml` builds a standard Python documentation.

## Pre-requisites

1. The workflow expects a standard docs structure, as generated by the `sphinx-quickstart` script, in particular:
   1. A `docs` folder in the root of the project. This can be overridden with the `docs-folder` input.
   2. A `docs/Makefile`. If modified from the default, it must support the `html` and `latexpdf` targets.
   3. A `docs/_build` folder with the build output, including an `html` folder and a `latex` folder, results of the `html` and `latexpdf` build targets.

## Operation

The workflow will build two artifacts:

1. `documentation-<project>-html-<version>` with the documentation in HTML format.
2. `documentation-<project>-pdf-<version>` with the documentation as a PDF file.

It uses the release version provided as input.

The provided version will be written in a `.version` file at the root of the repository.
You may/should use it to determine the version of the project/documentation.

Example:

```yaml
jobs:
  version:
    uses: nxlabs-ch/shared-workflows/.github/workflows/version.yml@main

  build-documentation:
    needs: version
    uses: nxlabs-ch/shared-workflows/.github/workflows/docs.yml@main
    with:
      version: ${{ needs.version.outputs.version }}
      pdf-name: "User-Manual.pdf"
      dependencies: "Sphinx==3.5.4 myst-parser==0.15.2"
```

Note: the PDF name will be changed to add the version number, e.g. `User-Manual-1.0.0.pdf`.
